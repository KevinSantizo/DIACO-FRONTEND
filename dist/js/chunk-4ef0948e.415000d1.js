(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ef0948e"],{3753:function(t,e,n){},"5e3b":function(t,e,n){"use strict";var a=n("3753"),o=n.n(a);o.a},"8adc":function(t,e,n){},cc20:function(t,e,n){"use strict";n("4de4"),n("4160");var a=n("3835"),o=n("5530"),i=(n("8adc"),n("58df")),s=n("0789"),r=n("9d26"),c=n("a9ad"),l=n("4e82"),u=n("7560"),d=n("f2e7"),h=n("1c87"),p=n("af2b"),m=n("d9bd");e["a"]=Object(i["a"])(c["a"],p["a"],h["a"],u["a"],Object(l["a"])("chipGroup"),Object(d["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({"v-chip":!0},h["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(h["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var n=Object(a["a"])(e,2),o=n[0],i=n[1];t.$attrs.hasOwnProperty(o)&&Object(m["a"])(o,i,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(r["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(s["b"],t)},genClose:function(){var t=this;return this.$createElement(r["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],n=this.generateRouteLink(),a=n.tag,i=n.data;i.attrs=Object(o["a"])(Object(o["a"])({},i.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:i.attrs.tabindex}),i.directives.push({name:"show",value:this.active}),i=this.setBackgroundColor(this.color,i);var s=this.textColor||this.outlined&&this.color;return t(a,this.setTextColor(s,i),e)}})},e525:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",[n("v-btn",{staticStyle:{"text-decoration":"none"},attrs:{icon:"",to:"/index/city/"+t.town.city.id+"/city-detail"}},[n("v-icon",{attrs:{color:"#101729",dark:"",size:"45"}},[t._v("mdi-chevron-left")])],1)],1),n("v-row",[n("h1",{staticClass:"heading-1 ml-7"},[t._v("Municipio "+t._s(t.town.name_town))]),n("v-spacer"),1==t.permissions?n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"mr-5",attrs:{outlined:"",color:"#1D3557"}},"v-btn",o,!1),a),[n("v-icon",{attrs:{size:"30"}},[t._v("mdi-plus")])],1),n("v-btn",{staticClass:"mr-5",attrs:{color:"#101729",outlined:""},on:{click:function(e){return t.getStoresTown()}}},[n("v-icon",{attrs:{size:"30",dark:""}},[t._v("mdi-refresh")])],1)]}}],null,!1,3224311598),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("form",{on:{submit:t.onSubmit}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Nuevo comercio "+t._s(t.town.name_town))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.company,expression:"form.company"}],staticClass:"select-css",attrs:{name:"store_branch_town"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"company",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Comercio")]),t._l(t.stores,(function(e,a){return n("option",{key:a,attrs:{id:e.id},domProps:{value:e.id}},[t._v(t._s(e.name_company)+" ")])}))],2)])]),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Nombre*",name:"name_store_branch",required:""},model:{value:t.form.name_store_branch,callback:function(e){t.$set(t.form,"name_store_branch","string"===typeof e?e.trim():e)},expression:"form.name_store_branch"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Dirección",name:"address",required:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address","string"===typeof e?e.trim():e)},expression:"form.address"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Teléfono",name:"phone",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"===typeof e?e.trim():e)},expression:"form.phone"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:this.form.store_branch_town,expression:"this.form.store_branch_town"}],attrs:{type:"hidden",id:t.town.id,name:"store_branch_town"},domProps:{value:this.form.store_branch_town},on:{input:function(e){e.target.composing||t.$set(this.form,"store_branch_town",e.target.value)}}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"mr-3",attrs:{color:"#1D3557",outlined:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),n("v-btn",{attrs:{type:"submit",color:"#1D3557",raised:""},on:{click:function(e){t.dialog=!1}}},[t._v("Guardar")])],1)],1)],1)]):t._e()],1),n("div",{staticClass:"ml-4"},[n("h6",[t._v(t._s(t.town.city.name_city))]),n("h6",[t._v(t._s(t.town.city.region.name_region))])]),n("v-row",[n("v-spacer")],1),n("v-row",t._l(t.town.stores,(function(e,a){return n("v-col",{key:a,attrs:{cols:"3"}},[n("v-container",[n("v-row",[n("v-card",{staticClass:"ml-3",staticStyle:{"text-decoration":"none"},attrs:{elevation:"5",to:"/index/store-fromcity/"+e.id+"/store"}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[t._v(t._s(e.name_store_branch))]),n("v-list-item-subtitle",[t._v(t._s(e.address))]),n("v-list-item-subtitle",{staticClass:"mt-2"},[t._v("Quejas "+t._s(e.complains))])],1),n("v-list-item-avatar",{attrs:{tile:"",size:"50",color:"info"}},[n("v-icon",{attrs:{color:"white",size:"40"}},[t._v("mdi-store")])],1)],1)],1)],1)],1)],1)})),1),0==t.town.total_stores?n("div",{staticClass:"text-center mt-7"},[n("v-chip",{attrs:{color:"red",large:"",outlined:""}},[n("span",{staticClass:"pa-7",staticStyle:{"font-size":"20px"}},[t._v("Este municipio no tiene tiendas")])])],1):t._e()],1)},o=[],i=(n("7db0"),n("96cf"),n("1da1")),s=n("bc3a"),r=n.n(s),c=n("1940"),l=n.n(c),u="http://192.168.0.106:8000/",d={data:function(){return{permissions:"",dialog:!1,townId:this.$route.params.townId,town:[],stores:[],fields:[{key:"name_complain",label:"Nombre"},{key:"description_complain",label:"Descripción"},{key:"date_complain",label:"Fecha"}],form:{name_store_branch:"",address:"",company:"",phone:"",store_branch_town:""}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.a.get("".concat(u,"api/tows-children/").concat(t.townId,"/")).then((function(e){t.town=e.data,t.form.store_branch_town=t.town.id,console.log(t.town)})).catch((function(t){console.log(t)}));case 2:return e.next=4,r.a.get("".concat(u,"api/companies/")).then((function(e){t.stores=e.data})).catch((function(t){console.log(t)}));case 4:case"end":return e.stop()}}),e)})))()},methods:{getUser:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=u+"api/users/",e.next=3,r.a.get(n).then((function(e){t.users=e.data,console.log(t.users);var n=t.users.find((function(e){return e.id==t.$store.state.user}));t.permissions=n.permissions,console.log(n.username),console.log(n.permissions)}));case 3:case"end":return e.stop()}}),e)})))()},onSubmit:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.preventDefault(),a="".concat(u,"api/store-branches/"),n.next=4,r.a.post(a,e.form).then((function(t){e.form.name_store_branch=t.data.name_store_branch,e.form.address=t.data.address,e.form.company=t.data.company,e.form.phone=t.data.phone,e.form.store_branch_town=t.data.store_branch_town,l()("Tienda agregada.","","success")})).catch((function(t){console.log(t)}));case 4:case"end":return n.stop()}}),n)})))()},getStoresTown:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.a.get("".concat(u,"api/tows-children/").concat(t.townId,"/")).then((function(e){t.town=e.data,t.form.store_branch_town=t.town.id,console.log(t.town)})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}},created:function(){this.getUser()}},h=d,p=(n("5e3b"),n("2877")),m=n("6544"),v=n.n(m),f=n("8336"),b=n("b0af"),_=n("99d9"),g=n("cc20"),w=n("62ad"),C=n("a523"),y=n("169a"),x=n("132d"),k=n("da13"),V=n("8270"),$=n("5d23"),j=n("0fd9"),O=n("2fa4"),S=n("8654"),I=Object(p["a"])(h,a,o,!1,null,null,null);e["default"]=I.exports;v()(I,{VBtn:f["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VChip:g["a"],VCol:w["a"],VContainer:C["a"],VDialog:y["a"],VIcon:x["a"],VListItem:k["a"],VListItemAvatar:V["a"],VListItemContent:$["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VRow:j["a"],VSpacer:O["a"],VTextField:S["a"]})}}]);
//# sourceMappingURL=chunk-4ef0948e.415000d1.js.map